(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{497:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var o=n(13),r=(n(42),n(508),n(12),n(509),n(510),n(511),n(512),n(513),n(515),n(516),n(517),n(518),n(519),n(520),n(521),n(522),n(523),n(524),n(525),n(526),n(527),n(528),n(529),n(530),n(531),n(532),n(533),n(534),n(90),n(535).GifWriter);function l(element,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e.duration||10,l=e.fps||30,c=e.depth||25,f=n*l,canvas=document.createElement("canvas");canvas.width=element.width,canvas.height=element.height;var h=canvas.getContext("2d"),d=new Uint8Array(canvas.width*canvas.height*f*5),m=new Uint8Array(canvas.width*canvas.height),v=new r(d,canvas.width,canvas.height,{loop:0}),w=0;return new Promise(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(o){var data,r,y,x,z,S,g,b,D,M,R,E,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t(w/f)){e.next=3;break}return o(d.subarray(0,v.end())),e.abrupt("return");case 3:for(h.drawImage(element,0,0),data=h.getImageData(0,0,canvas.width,canvas.height).data,r=[],y=0,x=0,z=data.length;y<z;y+=4,x++)S=Math.floor(data[y+0]/c)*c,g=Math.floor(data[y+1]/c)*c,b=Math.floor(data[y+2]/c)*c,D=S<<16|g<<8|b<<0,-1===(M=r.indexOf(D))?(m[x]=r.length,r.push(D)):m[x]=M;for(R=1;R<r.length;)R<<=1;if(r.length=R,E=100/l,k={palette:new Uint32Array(r),delay:E},v.addFrame(0,0,canvas.width,canvas.height,m,k),w++,k.callback&&k.callback(w/f),!(w<f)){e.next=20;break}return e.next=18,setTimeout(n,0,o);case 18:e.next=21;break;case 20:o(d.subarray(0,v.end()));case 21:case"end":return e.stop()}}),e)})));function n(t){return e.apply(this,arguments)}return n}())}},498:function(t,e,n){"use strict";e.a="varying vec2 vUv;\nvoid main()\n{\n    vUv = uv;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    gl_Position = projectionMatrix * mvPosition;\n}"},553:function(t,e,n){"use strict";n.r(e);n(351),n(12),n(30),n(90);var o=n(506),r=n(507),l=(n(4),n(497),n(498)),c={props:{type:{type:String,default:"mer"},texture:{type:[String,Object],default:"images/earth_white_1280.png"},uniform:{type:Object,default:function(){return{}}},scale:{type:Number,default:100}},data:function(){var t={globe:new o.j(1,128,64),mer:new o.f(2,2)};this.uniform.txtr={value:(new o.m).load(this.texture)};var e=new o.i({uniforms:this.uniform,vertexShader:l.a,fragmentShader:"const int orde = 4;\nuniform float SHa[orde];\nuniform float SDec[orde];\nuniform float MHa[orde];\nuniform float MDec[orde];\nuniform float EqTime[orde];\nuniform float hp;\nuniform float eot;\nuniform float elongation; // derajat\nuniform float altitude; // derajat\nuniform sampler2D txtr;\n\nvarying vec2 vUv;\nconst float pi = 3.14159;\nconst float R2D = 57.29578;\nconst float ER = 0.02;\n\nstruct horizon {\n    float alt;\n    float az;\n};\n\nhorizon fAltAz(float h, float d, float lat){\n    return horizon(asin(sin(lat)*sin(d) + cos(lat)*cos(d)*cos(h)),\n        atan(sin(h), cos(h) * sin(lat) - (sin(d) / cos(d)) * cos(lat)));\n}\n\nfloat horner(float t, float c[orde]){    \n    int i = c.length() - 1;\n    float res = c[i];\n    while(i > 0){\n        i--;\n        res = res*t + c[i];\n    }\n    return res;\n}\n\nvoid main(void){\n    vec2 position = -1.0 + 2.0 * vUv;\n    float lat = radians(position.y * 90.0);\n    float lng = radians(-position.x * 180.0);\n    vec3 color = texture2D(txtr, vUv).rgb;\n    \n    float t = lng/(2.0*pi);\n    t = t - horner(t, EqTime);\n    float delta = horner(t, SDec);\n    float cosHa = (-0.014538081 - sin(lat)*sin(delta))/(cos(lat)*cos(delta));\n    float fac = 0.2;\n    if(cosHa > -1.0 && cosHa < 1.0){ // ada terbenam\n        float ha = acos(cosHa);\n        t = t + ha/(2.0 * pi);\n\n        float sHa = horner(t, SHa);\n        float sDec = horner(t, SDec);\n        float mHa = horner(t, MHa);\n        float mDec = horner(t, MDec);\n        \n        horizon sun = fAltAz(sHa-lng, sDec, lat);\n        horizon moon = fAltAz(mHa-lng, mDec, lat);\n\n        moon.alt = moon.alt - hp*cos(moon.alt) + 0.00989;\n        sun.alt = sun.alt + 0.0145;\n\n        float alt = (moon.alt - sun.alt) * R2D;\n        float cosElo = sin(sun.alt)*sin(moon.alt) + cos(sun.alt)*cos(moon.alt) * cos(sun.az - moon.az);\n        float elo = acos(cosElo) * R2D;\n\n        if(alt > altitude && abs(elo-elongation) < ER * 0.5){\n            gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0 );\n        }else if(alt >= 0.0 && fract(alt) < ER){\n            gl_FragColor = vec4(0.8, 0.8, 0.0, 1.0 );\n        }else if(alt > altitude && elo > elongation) {\n            gl_FragColor = vec4(color.x, color.y, color.z, 1.0 );\n        }else if(alt > 0.0){\n            gl_FragColor = vec4(color.x, color.y * 0.5, color.z * 0.5, 1.0 );\n        }else{\n            fac = 0.3;\n            gl_FragColor = vec4(color.x * fac, color.y * fac, color.z * fac, 1.0 );\n        }\n    }else{\n        gl_FragColor = vec4(color.x * fac, color.y * fac, color.z * fac, 1.0 );\n    }\n}"}),data={animated:!0,camera:new o.e(-1.01,1.01,1.01,-1.01,.1,10),controls:null,scene:new o.h,renderer:new o.p,models:t,material:e,mesh:new o.d(t[this.type],e)};return data.camera.position.set(0,0,4),data.renderer.setPixelRatio(window.devicePixelRatio),data.mesh.position.x=0,data.mesh.position.y=0,data.scene.add(data.mesh),data},mounted:function(){var th=this;this.$el.appendChild(this.renderer.domElement),this.animate(),this.resize(),this.$nuxt.$on("pushmenu-click",(function(){th.resize(300)})),window.addEventListener("resize",(function(){th.resize()}));var t=this.controls=new r.a(this.camera,this.$el);t.rotateSpeed=1,t.zoomSpeed=1.2,t.panSpeed=.8,t.enableZoom=!1,t.enablePan=!1,t.staticMoving=!0,t.dynamicDampingFactor=.3,t.keys=[65,83,68],t.autoRotate=!1,t.keys=[65,83,68],t.minZoom=1,t.maxZoom=5,t.addEventListener("change",(function(){th.render()})),t.enableRotate="globe"==this.type},methods:{render:function(){this.renderer.render(this.scene,this.camera)},animate:function(){var th=this;requestAnimationFrame((function(){th.animate()})),th.controls&&th.controls.update(),this.animated&&th.render()},doScale:function(t){var e=Math.min(100,Math.max(10,t)),n=Math.floor(this.$el.offsetWidth*e/100),o="mer"==this.type?n/2:n;this.renderer.setSize(n,o)},resize:function(){var time=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,th=this;setTimeout((function(){th.camera.aspect=1,th.camera.updateProjectionMatrix(),th.doScale(th.scale)}),time)},download:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},link=document.createElement("a");this.render(),link.href=this.renderer.domElement.toDataURL(),link.download=t.filename||"peta-tinggi-hilal.png",link.click()}},watch:{scale:function(t){this.doScale(t),this.render()},type:function(t){this.mesh.geometry=this.models[t],this.doScale(this.scale),this.controls.enableRotate="globe"==t,"globe"!=t&&this.camera.position.set(0,0,4),this.render()}}},f=c,h=n(8),component=Object(h.a)(f,(function(){return(0,this._self._c)("div",{staticStyle:{display:"flex","justify-content":"center"}})}),[],!1,null,null,null);e.default=component.exports}}]);