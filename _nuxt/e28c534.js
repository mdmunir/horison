(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{503:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n(13),r=(n(42),n(509),n(12),n(510),n(511),n(512),n(513),n(514),n(516),n(517),n(518),n(519),n(520),n(521),n(522),n(523),n(524),n(525),n(526),n(527),n(528),n(529),n(530),n(531),n(532),n(533),n(534),n(535),n(90),n(536).GifWriter);function l(element,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=t.duration||10,l=t.fps||30,c=t.depth||25,f=n*l,canvas=document.createElement("canvas");canvas.width=element.width,canvas.height=element.height;var d=canvas.getContext("2d"),h=new Uint8Array(canvas.width*canvas.height*f*5),m=new Uint8Array(canvas.width*canvas.height),v=new r(h,canvas.width,canvas.height,{loop:0}),w=0;return new Promise(function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(o){var data,r,y,x,L,j,g,b,z,S,O,k,C;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!1!==e(w/f)){t.next=3;break}return o(h.subarray(0,v.end())),t.abrupt("return");case 3:for(d.drawImage(element,0,0),data=d.getImageData(0,0,canvas.width,canvas.height).data,r=[],y=0,x=0,L=data.length;y<L;y+=4,x++)j=Math.floor(data[y+0]/c)*c,g=Math.floor(data[y+1]/c)*c,b=Math.floor(data[y+2]/c)*c,z=j<<16|g<<8|b<<0,-1===(S=r.indexOf(z))?(m[x]=r.length,r.push(z)):m[x]=S;for(O=1;O<r.length;)O<<=1;if(r.length=O,k=100/l,C={palette:new Uint32Array(r),delay:k},v.addFrame(0,0,canvas.width,canvas.height,m,C),w++,C.callback&&C.callback(w/f),!(w<f)){t.next=20;break}return t.next=18,setTimeout(n,0,o);case 18:t.next=21;break;case 20:o(h.subarray(0,v.end()));case 21:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}())}},504:function(e,t,n){"use strict";t.a="varying vec2 vUv;\nvoid main()\n{\n    vUv = uv;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    gl_Position = projectionMatrix * mvPosition;\n}"},554:function(e,t,n){"use strict";n.r(t);var o=n(26),r=n(13),l=(n(42),n(351),n(12),n(30),n(90),n(31),n(492),n(154),n(507)),c=n(508),base=n(4),f=n(503),d=n(504),h={props:{type:{type:String,default:"globe"},texture:{type:[String,Object],default:"images/earth_1600.jpg"},uniform:{type:Object,default:function(){return{}}},cameraPos:Object,scale:{type:Number,default:100},control:{type:Boolean,default:!0}},data:function(){var e={globe:new l.j(1,128,64),mer:new l.f(2,2),ae:new l.a(1,64)};this.uniform.txtr={value:(new l.m).load(this.texture)},this.uniform.isAe={value:"ae"==this.type?1:0};var t=new l.i({uniforms:this.uniform,vertexShader:d.a,fragmentShader:"uniform float esq;\nuniform float mu;\nuniform float x;\nuniform float y;\nuniform float cosd;\nuniform float sind;\nuniform float l1;\nuniform float l2;\nuniform float tanf1;\nuniform float tanf2;\nuniform int isAe;\nuniform sampler2D txtr;\nvarying vec2 vUv;\n\nvoid main(void){\n    vec2 position = -1.0 + 2.0 * vUv;\n    float lat = radians(position.y * 90.0);\n    float lng = radians(position.x * 180.0);\n    vec2 pos = vec2(vUv.x, vUv.y);\n    if(isAe == 1){\n        float r = sqrt(position.y*position.y+position.x*position.x);\n        lat = radians(90.0 - 180.0*r);    \n        lng = atan(position.y,position.x);        \n        pos.x = lng / 3.14159 / 2.0 + 0.5;\n        pos.y = 1.0 - r;\n    }\n    \n    float cosLat = cos(lat);\n    float sinLat = sin(lat);\n    float theta = mu + lng;\n    float C = 1.0 / sqrt(1.0 - esq * sinLat * sinLat);\n    float S = (1.0 - esq) * C;\n    float xi = C * cosLat * sin(theta);\n    float eta = S * sinLat * cosd - C * cosLat * sind * cos(theta);\n    float zeta = S * sinLat * sind + C * cosLat * cosd * cos(theta);\n    float u = x - xi;\n    float v = y - eta;\n    float m = sqrt(u * u + v * v);\n    float L1 = l1 - zeta * tanf1;\n    float L2 = l2 - zeta * tanf2;\n    vec3 color = texture2D(txtr, pos).rgb;\n    if (zeta < 0.0){\n        float fac = 0.4;\n        gl_FragColor = vec4(color.x * fac, color.y * fac, color.z * fac, 1.0 );\n    } else if (L2 < 0.0 && m < -L2 && zeta > 0.0){\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0 );\n    } else if (L2 > 0.0 && m < L2 && zeta > 0.0){\n        gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0 );\n    } else if (m < L1 && zeta > 0.0){\n        float f = 0.7 - 0.0 * (L1 - m) / L1;\n        gl_FragColor = vec4(color.x * f, color.y * f, color.z * f, 1.0 );\n    } else{\n        gl_FragColor = vec4( color.x, color.y, color.z, 1.0 );\n    }\n}"}),data={animated:!0,camera:new l.e(-1.05,1.05,1.05,-1.05,.1,10),controls:null,scene:new l.h,renderer:new l.p,models:e,material:t,mesh:new l.d(e[this.type],t)};return data.camera.position.set(0,0,4),data.renderer.setPixelRatio(window.devicePixelRatio),data.mesh.position.x=0,data.mesh.position.y=0,data.scene.add(data.mesh),data},mounted:function(){var th=this;this.$el.appendChild(this.renderer.domElement),this.animate(),this.resize(),this.$nuxt.$on("pushmenu-click",(function(){th.resize(300)})),window.addEventListener("resize",(function(){th.resize()}));var e=this.controls=new c.a(this.camera,this.$el);e.rotateSpeed=1,e.zoomSpeed=1.2,e.panSpeed=.8,e.enableZoom=!1,e.enablePan=!1,e.staticMoving=!0,e.dynamicDampingFactor=.3,e.keys=[65,83,68],e.autoRotate=!1,e.addEventListener("change",(function(){th.render()})),e.enableRotate=this.control&&"globe"==this.type},methods:{render:function(){this.renderer.render(this.scene,this.camera)},animate:function(){var th=this;requestAnimationFrame((function(){th.animate()})),th.controls&&th.controls.update(),this.animated&&th.render()},doScale:function(e){var t=Math.min(100,Math.max(10,e)),n=Math.floor(this.$el.offsetWidth*t/100),o="mer"==this.type?n/2:n;this.renderer.setSize(n,o)},resize:function(){var time=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,th=this;setTimeout((function(){th.camera.aspect=1,th.camera.updateProjectionMatrix(),th.doScale(th.scale)}),time)},download:function(e){var t=arguments,n=this;return Object(r.a)(regeneratorRuntime.mark((function o(){var r,th,l,c,link;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r=t.length>1&&void 0!==t[1]?t[1]:{},th=n,n.animated=!1,o.next=5,Object(f.a)(n.renderer.domElement,(function(progress){if(e&&!1===e(progress))return!1;th.render()}),r);case 5:l=o.sent,c=new Blob([l],{type:"image/gif"}),n.animated=!0,(link=document.createElement("a")).href=URL.createObjectURL(c),link.download=r.filename||"solar-eclipse.gif",link.dispatchEvent(new MouseEvent("click"));case 12:case"end":return o.stop()}}),o)})))()}},watch:{cameraPos:{deep:!0,handler:function(e){if("globe"==this.type){var t=e||{},n=Object(base.d)(t.lon||0),r=Object(o.a)(n,2),l=r[0],c=r[1],f=Object(base.d)(t.lat||0),d=Object(o.a)(f,2),h=d[0],m=d[1],v=t.distance||4;this.camera.position.set(v*m*c,v*h,v*m*l),this.controls&&this.controls.update(),this.render()}}},scale:function(e){this.doScale(e),this.render()},type:function(e){this.mesh.geometry=this.models[e],this.uniform.isAe.value="ae"==e?1:0,this.doScale(this.scale),this.controls.enableRotate=this.control&&"globe"==e,"globe"!=e&&this.camera.position.set(0,0,4),this.render()},control:function(e){this.controls.enableRotate=e&&"globe"==this.type,this.render()}}},m=h,v=n(8),component=Object(v.a)(m,(function(){return(0,this._self._c)("div",{staticStyle:{display:"flex","justify-content":"center"}})}),[],!1,null,null,null);t.default=component.exports}}]);