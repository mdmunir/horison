(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{435:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var o=n(13),r=(n(41),n(442),n(11),n(447),n(450),n(451),n(452),n(453),n(454),n(455),n(456),n(457),n(458),n(459),n(460),n(461),n(462),n(463),n(465),n(466),n(467),n(468),n(469),n(470),n(471),n(472),n(473),n(474),n(81),n(475).GifWriter);function l(element,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e.duration||10,l=e.fps||30,c=e.depth||25,f=n*l,canvas=document.createElement("canvas");canvas.width=element.width,canvas.height=element.height;var d=canvas.getContext("2d"),h=new Uint8Array(canvas.width*canvas.height*f*5),m=new Uint8Array(canvas.width*canvas.height),v=new r(h,canvas.width,canvas.height,{loop:0}),w=0;return new Promise(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(o){var data,r,x,y,L,z,g,b,M,C,j,k,R;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t(w/f)){e.next=3;break}return o(h.subarray(0,v.end())),e.abrupt("return");case 3:for(d.drawImage(element,0,0),data=d.getImageData(0,0,canvas.width,canvas.height).data,r=[],x=0,y=0,L=data.length;x<L;x+=4,y++)z=Math.floor(data[x+0]/c)*c,g=Math.floor(data[x+1]/c)*c,b=Math.floor(data[x+2]/c)*c,M=z<<16|g<<8|b<<0,-1===(C=r.indexOf(M))?(m[y]=r.length,r.push(M)):m[y]=C;for(j=1;j<r.length;)j<<=1;if(r.length=j,k=100/l,R={palette:new Uint32Array(r),delay:k},v.addFrame(0,0,canvas.width,canvas.height,m,R),w++,R.callback&&R.callback(w/f),!(w<f)){e.next=20;break}return e.next=18,setTimeout(n,0,o);case 18:e.next=21;break;case 20:o(h.subarray(0,v.end()));case 21:case"end":return e.stop()}}),e)})));function n(t){return e.apply(this,arguments)}return n}())}},436:function(t,e,n){"use strict";e.a="varying vec2 vUv;\nvoid main()\n{\n    vUv = uv;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    gl_Position = projectionMatrix * mvPosition;\n}"},437:function(t,e,n){"use strict";e.a="uniform float esq;\nuniform float mu;\nuniform float x;\nuniform float y;\nuniform float cosd;\nuniform float sind;\nuniform float l1;\nuniform float l2;\nuniform float tanf1;\nuniform float tanf2;\nuniform sampler2D txtr;\nvarying vec2 vUv;\n\nvoid main(void){\n    vec2 position = -1.0 + 2.0 * vUv;\n    float lat = radians(position.y * 90.0);\n    float lng = radians(position.x * 180.0);\n    float cosLat = cos(lat);\n    float sinLat = sin(lat);\n    float theta = mu + lng;\n    float C = 1.0 / sqrt(1.0 - esq * sinLat * sinLat);\n    float S = (1.0 - esq) * C;\n    float xi = C * cosLat * sin(theta);\n    float eta = S * sinLat * cosd - C * cosLat * sind * cos(theta);\n    float zeta = S * sinLat * sind + C * cosLat * cosd * cos(theta);\n    float u = x - xi;\n    float v = y - eta;\n    float m = sqrt(u * u + v * v);\n    float L1 = l1 - zeta * tanf1;\n    float L2 = l2 - zeta * tanf2;\n    vec3 color = texture2D( txtr, vUv ).rgb;\n    if (zeta < 0.0){\n        float fac = 0.4;\n        gl_FragColor = vec4(color.x * fac, color.y * fac, color.z * fac, 1.0 );\n    } else if (L2 < 0.0 && m < -L2 && zeta > 0.0){\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0 );\n    } else if (L2 > 0.0 && m < L2 && zeta > 0.0){\n        gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0 );\n    } else if (m < L1 && zeta > 0.0){\n        float f = 0.7 - 0.0 * (L1 - m) / L1;\n        gl_FragColor = vec4(color.x * f, color.y * f, color.z * f, 1.0 );\n    } else{\n        gl_FragColor = vec4( color.x, color.y, color.z, 1.0 );\n    }\n}"},508:function(t,e,n){"use strict";n.r(e);var o=n(13),r=(n(41),n(342),n(81),n(11),n(27),n(28),n(424),n(146),n(434)),l=(n(5),n(435)),c=n(436),f=n(437),d={props:{texture:{type:[String,Object],default:"images/earth_1600.jpg"},uniform:{type:Object,default:function(){return{}}},zoom:{type:Number,default:100},control:{type:Boolean,default:!0}},created:function(){this.camera=new r.d(-1.05,1.05,1.05,-1.05,.1,10),this.camera.position.set(0,0,4),this.controls=null,this.scene=new r.g,this.plane=new r.e(2,2);var t=new r.o;t.setPixelRatio(window.devicePixelRatio),t.setPixelRatio(window.devicePixelRatio),this.renderer=t,this.animated=!0},mounted:function(){var th=this;this.uniform.txtr={value:(new r.l).load(this.texture)};var t=new r.h({uniforms:this.uniform,vertexShader:c.a,fragmentShader:f.a}),e=new r.c(this.plane,t);e.position.x=0,e.position.y=0,this.scene.add(e),this.$el.appendChild(this.renderer.domElement),window.addEventListener("resize",(function(){th.resize()})),this.animate(),th.resize(),this.$nuxt.$on("pushmenu-click",(function(){th.resize(300)}))},methods:{render:function(){this.renderer.render(this.scene,this.camera)},animate:function(){var th=this;requestAnimationFrame((function(){th.animate()})),this.animated&&th.render()},resize:function(){var time=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,th=this;setTimeout((function(){th.camera.aspect=1,th.camera.updateProjectionMatrix();var t=Math.min(100,Math.max(10,th.zoom)),e=Math.floor(th.$el.offsetWidth*t/100);th.renderer.setSize(e,e/2),th.controls}),time)},download:function(t){var e=arguments,n=this;return Object(o.a)(regeneratorRuntime.mark((function o(){var r,th,c,f,link;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r=e.length>1&&void 0!==e[1]?e[1]:{},th=n,n.animated=!1,o.next=5,Object(l.a)(n.renderer.domElement,(function(progress){if(t&&!1===t(progress))return!1;th.render()}),r);case 5:c=o.sent,f=new Blob([c],{type:"image/gif"}),n.animated=!0,(link=document.createElement("a")).href=URL.createObjectURL(f),link.download=r.filename||"solar-eclipse.gif",link.dispatchEvent(new MouseEvent("click"));case 12:case"end":return o.stop()}}),o)})))()}},watch:{zoom:function(t){var e=Math.min(100,Math.max(10,t)),n=Math.floor(this.$el.offsetWidth*e/100);this.renderer.setSize(n,n/2)}}},h=d,m=n(8),component=Object(m.a)(h,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticStyle:{display:"flex","justify-content":"center"}})}),[],!1,null,null,null);e.default=component.exports}}]);