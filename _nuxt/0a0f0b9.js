(window.webpackJsonp=window.webpackJsonp||[]).push([[27,11],{497:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var o=n(13),r=(n(42),n(508),n(12),n(509),n(510),n(511),n(512),n(513),n(515),n(516),n(517),n(518),n(519),n(520),n(521),n(522),n(523),n(524),n(525),n(526),n(527),n(528),n(529),n(530),n(531),n(532),n(533),n(534),n(90),n(535).GifWriter);function l(element,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e.duration||10,l=e.fps||30,c=e.depth||25,f=n*l,canvas=document.createElement("canvas");canvas.width=element.width,canvas.height=element.height;var m=canvas.getContext("2d"),d=new Uint8Array(canvas.width*canvas.height*f*5),h=new Uint8Array(canvas.width*canvas.height),v=new r(d,canvas.width,canvas.height,{loop:0}),y=0;return new Promise(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(o){var data,r,w,_,x,D,g,b,C,L,S,M,P;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t(y/f)){e.next=3;break}return o(d.subarray(0,v.end())),e.abrupt("return");case 3:for(m.drawImage(element,0,0),data=m.getImageData(0,0,canvas.width,canvas.height).data,r=[],w=0,_=0,x=data.length;w<x;w+=4,_++)D=Math.floor(data[w+0]/c)*c,g=Math.floor(data[w+1]/c)*c,b=Math.floor(data[w+2]/c)*c,C=D<<16|g<<8|b<<0,-1===(L=r.indexOf(C))?(h[_]=r.length,r.push(C)):h[_]=L;for(S=1;S<r.length;)S<<=1;if(r.length=S,M=100/l,P={palette:new Uint32Array(r),delay:M},v.addFrame(0,0,canvas.width,canvas.height,h,P),y++,P.callback&&P.callback(y/f),!(y<f)){e.next=20;break}return e.next=18,setTimeout(n,0,o);case 18:e.next=21;break;case 20:o(d.subarray(0,v.end()));case 21:case"end":return e.stop()}}),e)})));function n(t){return e.apply(this,arguments)}return n}())}},498:function(t,e,n){"use strict";e.a="varying vec2 vUv;\nvoid main()\n{\n    vUv = uv;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    gl_Position = projectionMatrix * mvPosition;\n}"},552:function(t,e,n){var content=n(577);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(44).default)("797ffd27",content,!0,{sourceMap:!1})},554:function(t,e,n){"use strict";n.r(e);var o=n(26),r=n(13),l=(n(42),n(351),n(12),n(30),n(90),n(31),n(490),n(153),n(506)),c=n(507),base=n(4),f=n(497),m=n(498),d={props:{type:{type:String,default:"globe"},texture:{type:[String,Object],default:"images/earth_white_1280.png"},uniform:{type:Object,default:function(){return{}}},cameraPos:Object,scale:{type:Number,default:100},control:{type:Boolean,default:!0},part:{type:String,default:"all"}},data:function(){var t={globe:new l.j(1,128,64),mer:new l.f(2,2),ae:new l.a(1,64)};this.uniform.txtr={value:(new l.m).load(this.texture)},this.uniform.isAe={value:"ae"==this.type?1:0},this.uniform.isPath={value:"shadow"!=this.part?1:0},this.uniform.isShadow={value:"path"!=this.part?1:0};var e=new l.i({uniforms:this.uniform,vertexShader:m.a,fragmentShader:"const float THRESHOLD = 0.0015;\nconst float THRESHOLD2 = 0.0025;\n\nstruct TElement{\n    // float x;\n    // float y;\n    // float mu;\n    // float d;\n    // float dx;\n    // float dy;\n    // float dmu;\n    // float dd;\n\n    float d;\n    float l1;\n    float l2;\n    float a;\n    float b;\n    float u;\n    float v;\n    float n2;\n    float zeta;\n    float dmu;\n    float theta;\n};\nstruct TLocData{\n    float lat;\n    float lon;\n    float rhoC;\n    float rhoS;\n};\nTLocData loc;\n\n// uniform float esq;\n// uniform float mu;\n// uniform float x;\n// uniform float y;\n// uniform float cosd;\n// uniform float sind;\n// uniform float l1;\n// uniform float l2;\n\nuniform float tanF1;\nuniform float tanF2;\nuniform float time;\nuniform float deltaTMu;\nuniform int isAe;\nuniform int isPath;\nuniform int isShadow;\n\nuniform float X[4];\nuniform float Y[4];\nuniform float D[4];\nuniform float MU[4];\nuniform float L1[4];\nuniform float L2[4];\nuniform float DX[4];\nuniform float DY[4];\nuniform float DD[4];\nuniform float DMU[4];\n//uniform float DL1[4];\n//uniform float DL2[4];\nuniform sampler2D txtr;\nvarying vec2 vUv;\n\nfloat horner(float t, float series[4]){\n    int i = 3;\n    float result = series[i];\n    while(i > 0){\n        i--;\n        result = result*t + series[i];\n    }\n    return result;\n}\n\nTElement calcElem(float t){\n    TElement result;\n    float x = horner(t, X);\n    float y = horner(t, Y);\n    float d = horner(t, D);\n    float mu = horner(t, MU);\n    float dx = horner(t, DX);\n    float dy = horner(t, DY);\n    float dd = horner(t, DD);\n    float dmu = horner(t, DMU);\n    float l1 = horner(t, L1);\n    float l2 = horner(t, L2);\n    \n    float theta = mu + loc.lon;\n    float xi = loc.rhoC * sin(theta);\n    float eta = loc.rhoS * cos(d) - loc.rhoC * sin(d) * cos(theta);\n    float zeta = loc.rhoS * sin(d) + loc.rhoC * cos(d) * cos(theta);\n    float u = x - xi;\n    float v = y - eta;\n    float dxi = dmu * loc.rhoC * cos(theta);\n    float deta = dmu * xi * sin(d) - zeta * dd;\n    \n    float a = dx - dxi;\n    float b = dy - deta;\n    float n2 = a*a + b*b;\n\n    result.d = d;\n    result.a = a;\n    result.b = b;\n    result.u = u;\n    result.v = v;\n    result.zeta = zeta;\n    result.n2 = n2;\n    result.l1 = l1 - zeta * tanF1;\n    result.l2 = l2 - zeta * tanF1;\n    result.theta = theta;\n    result.dmu = dmu;\n    return result;\n}\n\nvoid main(void){\n    vec2 position = -1.0 + 2.0 * vUv;\n    loc.lat = radians(position.y * 90.0);\n    loc.lon = radians(position.x * 180.0);\n    vec2 pos = vec2(vUv.x, vUv.y);\n    if(isAe == 1){\n        float r = sqrt(position.y*position.y+position.x*position.x);\n        loc.lat = radians(90.0 - 180.0*r);    \n        loc.lon = atan(position.y,position.x);        \n        pos.x = loc.lon / 3.14159 / 2.0 + 0.5;\n        pos.y = 1.0 - r;\n    }\n    \n    TElement elem;\n    vec3 color = texture2D(txtr, pos).rgb;\n    float tmp = atan(0.99664719 * tan(loc.lat));\n    loc.rhoS = 0.99664719*sin(tmp);\n    loc.rhoC = cos(tmp);\n\n    gl_FragColor = vec4( color.x, color.y, color.z, 1.0 );\n    int pathFound = 0;\n    if(isPath == 1){\n        float t = 0.0;\n        float dt = 0.0;\n        int mid = 0;\n        for(int it=0; it < 15; it++){\n            elem = calcElem(t);\n            dt = (elem.u*elem.a + elem.v*elem.b) / elem.n2;\n            t -= dt;\n            if(dt > -0.00001 && dt < 0.00001){\n                mid = 1;\n                break;\n            }\n        }\n        if(mid == 1 && elem.zeta >= 0.0){\n            float m = sqrt(elem.u * elem.u + elem.v * elem.v);\n            if((m - elem.l1) < THRESHOLD && (m - elem.l1) > -THRESHOLD2){ // penumbra\n                gl_FragColor = vec4(0.0, 0.0, 0.8, 1.0 );\n                pathFound = 1;\n            }else if(elem.l2 > 0.0 && (m - elem.l2) < THRESHOLD && (m - elem.l2) > -THRESHOLD2){ // cincin\n                gl_FragColor = vec4(0.8, 0.0, 0.0, 1.0 );\n                pathFound = 1;\n            }else if(elem.l2 < 0.0 && (m + elem.l2) < THRESHOLD && (m + elem.l2) > -THRESHOLD2){ // total\n                gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0 );\n                pathFound = 1;\n            }\n        }\n\n        // terbit terbenam\n        float _acosH0;\n        float _h0;\n        for(float riset=-1.0; riset<=1.1; riset+=2.0){\n            if(pathFound == 0){\n                t = 0.0;\n                mid = 0;\n                for(int it=0; it<=5; it++){\n                    elem = calcElem(t);\n                    _acosH0 = (sin(-0.00524) - sin(loc.lat)*sin(elem.d))/(cos(loc.lat)*cos(elem.d));\n                    if(_acosH0 > 1.0 || _acosH0 < -1.0){\n                        break;\n                    }\n                    _h0 = acos(_acosH0);\n                    dt = (riset * _h0 - elem.theta)/elem.dmu;\n                    while(dt >= 12.0) dt -= 24.0;\n                    while(dt <= -12.0) dt += 24.0;\n                    t += dt;\n                    if(dt > -0.0001 && dt < 0.0001){\n                        mid = 1;\n                        break;\n                    }\n                }\n                if(mid == 1){\n                    float m = sqrt(elem.u * elem.u + elem.v * elem.v);\n                    if((m - elem.l1) < 2.0*THRESHOLD && (m - elem.l1) > -2.0*THRESHOLD2){\n                        gl_FragColor = vec4(0.0, 0.8, 8.0, 1.0 );\n                        pathFound = 1;\n                    }\n                }\n            }\n        }\n    }\n    \n    if(isShadow == 1){\n        if(pathFound == 0){\n            elem = calcElem(time);\n            float m = sqrt(elem.u * elem.u + elem.v * elem.v);\n            float L1 = elem.l1;\n            float L2 = elem.l2;\n            if (elem.zeta < 0.0){\n                float fac = 0.4;\n                gl_FragColor = vec4(color.x * fac, color.y * fac, color.z * fac, 1.0 );\n            } else if (L2 < 0.0 && m < -L2){\n                gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0 );\n            } else if (L2 > 0.0 && m < L2){\n                gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0 );\n            } else if (m < L1){\n                float f = 0.7 - 0.0 * (L1 - m) / L1;\n                gl_FragColor = vec4(color.x * f, color.y * f, color.z * f, 1.0 );\n            } else{\n                gl_FragColor = vec4( color.x, color.y, color.z, 1.0 );\n            }\n        }\n    }\n    \n}"}),data={animated:!0,camera:new l.e(-1.05,1.05,1.05,-1.05,.1,10),controls:null,scene:new l.h,renderer:new l.p,models:t,material:e,mesh:new l.d(t[this.type],e)};return data.camera.position.set(0,0,4),data.renderer.setPixelRatio(window.devicePixelRatio),data.mesh.position.x=0,data.mesh.position.y=0,data.scene.add(data.mesh),data},mounted:function(){var th=this;this.$el.appendChild(this.renderer.domElement),this.animate(),this.resize(),this.$nuxt.$on("pushmenu-click",(function(){th.resize(300)})),window.addEventListener("resize",(function(){th.resize()}));var t=this.controls=new c.a(this.camera,this.$el);t.rotateSpeed=1,t.zoomSpeed=1.2,t.panSpeed=.8,t.enableZoom=!1,t.enablePan=!1,t.staticMoving=!0,t.dynamicDampingFactor=.3,t.keys=[65,83,68],t.autoRotate=!1,t.addEventListener("change",(function(){th.render()})),t.enableRotate=this.control&&"globe"==this.type},methods:{render:function(){this.renderer.render(this.scene,this.camera)},animate:function(){var th=this;requestAnimationFrame((function(){th.animate()})),th.controls&&th.controls.update(),this.animated&&th.render()},doScale:function(t){var e=Math.min(100,Math.max(10,t)),n=Math.floor(this.$el.offsetWidth*e/100),o="mer"==this.type?n/2:n;this.renderer.setSize(n,o)},resize:function(){var time=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,th=this;setTimeout((function(){th.camera.aspect=1,th.camera.updateProjectionMatrix(),th.doScale(th.scale)}),time)},download:function(t){var e=arguments,n=this;return Object(r.a)(regeneratorRuntime.mark((function o(){var r,th,l,c,link;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r=e.length>1&&void 0!==e[1]?e[1]:{},th=n,n.animated=!1,o.next=5,Object(f.a)(n.renderer.domElement,(function(progress){if(t&&!1===t(progress))return!1;th.render()}),r);case 5:l=o.sent,c=new Blob([l],{type:"image/gif"}),n.animated=!0,(link=document.createElement("a")).href=URL.createObjectURL(c),link.download=r.filename||"solar-eclipse.gif",link.dispatchEvent(new MouseEvent("click"));case 12:case"end":return o.stop()}}),o)})))()}},watch:{cameraPos:{deep:!0,handler:function(t){if("globe"==this.type){var e=t||{},n=Object(base.e)(e.lon||0),r=Object(o.a)(n,2),l=r[0],c=r[1],f=Object(base.e)(e.lat||0),m=Object(o.a)(f,2),d=m[0],h=m[1],v=e.distance||4;this.camera.position.set(v*h*c,v*d,v*h*l),this.controls&&this.controls.update(),this.render()}}},scale:function(t){this.doScale(t),this.render()},type:function(t){this.mesh.geometry=this.models[t],this.uniform.isAe.value="ae"==t?1:0,this.doScale(this.scale),this.controls.enableRotate=this.control&&"globe"==t,"globe"!=t&&this.camera.position.set(0,0,4),this.render()},part:function(t){this.uniform.isPath.value="shadow"!=t?1:0,this.uniform.isShadow.value="path"!=t?1:0,this.render()},control:function(t){this.controls.enableRotate=t&&"globe"==this.type,this.render()}}},h=d,v=n(8),component=Object(v.a)(h,(function(){return(0,this._self._c)("div",{staticStyle:{display:"flex","justify-content":"center"}})}),[],!1,null,null,null);e.default=component.exports},576:function(t,e,n){"use strict";n(552)},577:function(t,e,n){var o=n(43)(!1);o.push([t.i,"table.element th{margin-left:5px}",""]),t.exports=o},593:function(t,e,n){"use strict";n.r(e);n(25),n(33),n(12),n(60),n(49);var o=n(13),base=(n(42),n(90),n(4)),r=(Math.sin,Math.cos,Math.tan,Math.PI),l=(Math.abs,{props:{eclipse:Object,info:{type:Object,default:function(){return{type:0,date:null}}}},data:function(){var t=this.info,e=1.00273790935*this.info.deltaT*(2*r/24/3600);return{deltaTMu:e,uniform:{time:{value:0},tanF1:{value:t.tanF1},tanF2:{value:t.tanF2},deltaTMu:{value:e},X:{value:t.x.slice(0,4)},Y:{value:t.y.slice(0,4)},D:{value:t.d.slice(0,4)},MU:{value:t.μ.slice(0,4)},L1:{value:t.l1.slice(0,4)},L2:{value:t.l2.slice(0,4)},DX:{value:t.x.slice(1,5).map((function(t,i){return t*(i+1)}))},DY:{value:t.y.slice(1,5).map((function(t,i){return t*(i+1)}))},DD:{value:t.d.slice(1,5).map((function(t,i){return t*(i+1)}))},DMU:{value:t.μ.slice(1,5).map((function(t,i){return t*(i+1)}))}},slider:500,cameraPos:{lat:0,lon:0,distance:4},scale:100,options:{model:"globe",rotation:!0,part:"all"},save:{progress:0,cancel:!1},intervalID:null}},mounted:function(){this.updatePath(this.time)},methods:{run:function(){if(this.onPlay)clearInterval(this.intervalID),this.intervalID=null;else{var th=this;this.intervalID=setInterval((function(){th.slider+=1,th.slider>=1e3&&(clearInterval(th.intervalID),th.intervalID=null)}),100)}},updatePath:function(time){this.uniform.time.value=time,this.options.rotation&&(this.cameraPos.lon=this.cameraLon,this.cameraPos.lat=this.cameraLat)},simpan:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var th,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return th=t,n=t.info,n.p1,n.p4,o={duration:30,fps:10,filename:"solar-eclipse-".concat(th.info.date,".gif")},t.save.cancel=!1,t.$refs.popupSave.modal("show"),e.next=7,t.$refs.map.download((function(i){if(th.slider=1e3*i,th.save.progress=Math.floor(100*i),th.save.cancel)return!1}),o);case 7:t.$refs.popupSave.modal("hide");case 8:case"end":return e.stop()}}),e)})))()}},computed:{time:function(){var t=this.info,e=t.p1;return e+(t.p4-e)*this.slider/1e3},sTime:function(){var t=this.info.JDE0+(this.time-this.info.deltaT/3600)/24;return moment(t.toDate()).utc().format("DD MMMM YYYY, hh:mm:ss [UTC]")},cameraLon:function(){var t=Object(base.c)(this.time,this.info.μ);return Object(base.d)(t,2*r)},cameraLat:function(){return Object(base.c)(this.time,this.info.d)},onPlay:function(){return null!=this.intervalID}},watch:{"options.rotation":function(t){t&&(this.cameraPos.lon=this.cameraLon,this.cameraPos.lat=this.cameraLat)},slider:function(){this.updatePath(this.time)}}}),c=(n(576),n(8)),component=Object(c.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("lte-card",{attrs:{title:t.sTime},on:{resize:function(e){return t.$refs.map.resize(300)}},scopedSlots:t._u([{key:"tools",fn:function(){return[e("button",{staticClass:"btn btn-tool",on:{click:t.simpan}},[e("i",{staticClass:"fas fa-save"})])]},proxy:!0}])},[t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("button",{staticClass:"btn btn-sm btn-flat",on:{click:t.run}},[e("i",{staticClass:"fas",class:{"fa-play":!t.onPlay,"fa-stop":t.onPlay}})]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.slider,expression:"slider",modifiers:{number:!0}}],staticStyle:{width:"90%"},attrs:{type:"range",min:"0",max:"1000"},domProps:{value:t.slider},on:{__r:function(e){t.slider=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),e("div",{staticClass:"col-12 col-lg-6"},[e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.scale,expression:"scale",modifiers:{number:!0}}],staticStyle:{width:"100%"},attrs:{type:"range",min:"20",max:"100"},domProps:{value:t.scale},on:{__r:function(e){t.scale=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),e("div",{staticClass:"col-4 col-lg-2"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.options.model,expression:"options.model"}],staticClass:"form-control",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.options,"model",e.target.multiple?n:n[0])}}},[e("option",{attrs:{value:"globe"}},[t._v("Globe")]),t._v(" "),e("option",{attrs:{value:"mer"}},[t._v("Mercator")]),t._v(" "),e("option",{attrs:{value:"ae"}},[t._v("AE")])])]),t._v(" "),"globe"==t.options.model?e("div",{staticClass:"col-4 col-lg-2"},[e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.options.rotation,expression:"options.rotation"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"ck_rotation"},domProps:{checked:Array.isArray(t.options.rotation)?t._i(t.options.rotation,null)>-1:t.options.rotation},on:{change:function(e){var n=t.options.rotation,o=e.target,r=!!o.checked;if(Array.isArray(n)){var l=t._i(n,null);o.checked?l<0&&t.$set(t.options,"rotation",n.concat([null])):l>-1&&t.$set(t.options,"rotation",n.slice(0,l).concat(n.slice(l+1)))}else t.$set(t.options,"rotation",r)}}}),t._v(" "),e("label",{staticClass:"form-check-label",attrs:{for:"ck_rotation"}},[t._v("Rotasi")])])]):t._e(),t._v(" "),e("div",{staticClass:"col-4 col-lg-2"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.options.part,expression:"options.part"}],staticClass:"form-control",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.options,"part",e.target.multiple?n:n[0])}}},[e("option",{attrs:{value:"all"}},[t._v("Path&Shadow")]),t._v(" "),e("option",{attrs:{value:"shadow"}},[t._v("Shadow")]),t._v(" "),e("option",{attrs:{value:"path"}},[t._v("Path")])])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("a-se-map",{ref:"map",attrs:{type:t.options.model,scale:t.scale,control:!t.options.rotation,uniform:t.uniform,"camera-pos":t.cameraPos,part:t.options.part}})],1)])])],1),t._v(" "),e("portal",{attrs:{to:"modals"}},[e("lte-modal",{ref:"popupSave",attrs:{size:"sm","data-backdrop":"static",title:"Download GIF"},on:{hide:function(e){t.save.cancel=!0}}},[e("p",[t._v(t._s(t.save.progress)+"% Complete")]),t._v(" "),e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar bg-primary progress-bar-striped",style:{width:t.save.progress+"%"},attrs:{role:"progressbar","aria-valuenow":t.save.progress,"aria-valuemin":"0","aria-valuemax":"100"}},[e("span",{staticClass:"sr-only"},[t._v(t._s(t.save.progress)+"% Complete")])])])])],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ASeMap:n(554).default,LteCard:n(350).default,LteModal:n(355).default})}}]);